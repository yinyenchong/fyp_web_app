<meta name="viewport" content="width=device-width, initial-scale=1" />

<div class="form-group msg-form" onload="resetValue()">
    
    <%= form_with(model: [@single_room, @message], remote: true, class: 'd-flex',
    data: { controller: "reset-form", action: "turbo:submit-end->reset-form#reset"}) do |f| %>
    
        <%= f.text_field :body, id: 'chat-text', class: 'form-control msg-content', autocomplete: 'off' %>
        
        
        <%= f.submit "Send", data: {disable_with: false}, 'data-reset-form-target': 'reset-form.reset', class: 'btn btn-primary' %>
        
    <% end %>
    
 </div>
  
  
 <script>
    function resetValue() {
        //code to generate foo_value
        document.getElementById('chat-text').value = "";
        console.log("resetValue being called");
    }
</script>
